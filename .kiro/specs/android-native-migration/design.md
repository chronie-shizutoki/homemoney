# è®¾è®¡æ–‡æ¡£

## æ¦‚è¿°

æœ¬æ–‡æ¡£æè¿°äº†å°† Home Finance Tracker ä» Capacitor WebView åº”ç”¨è¿ç§»åˆ°åŸç”Ÿ Android åº”ç”¨çš„æŠ€æœ¯è®¾è®¡ã€‚è®¾è®¡é‡‡ç”¨æ··åˆæ¶æ„ç­–ç•¥ï¼Œå…è®¸åŸç”ŸåŠŸèƒ½å’Œ WebView åŠŸèƒ½å…±å­˜ï¼Œæ”¯æŒæ¸è¿›å¼è¿ç§»ã€‚

### è®¾è®¡ç›®æ ‡

1. **æ¸è¿›å¼è¿ç§»**: é€ä¸ªåŠŸèƒ½æ¨¡å—è¿ç§»ï¼Œç¡®ä¿åº”ç”¨å§‹ç»ˆå¯ç”¨
2. **æ•°æ®ä¸€è‡´æ€§**: åŸç”ŸåŠŸèƒ½å’Œ WebView åŠŸèƒ½å…±äº«ç›¸åŒçš„æ•°æ®æº
3. **æ€§èƒ½ä¼˜åŒ–**: åŸç”Ÿå®ç°æä¾›æ›´å¥½çš„æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒ
4. **å¯ç»´æŠ¤æ€§**: æ¸…æ™°çš„æ¶æ„å’Œä»£ç ç»„ç»‡ï¼Œä¾¿äºåç»­ç»´æŠ¤
5. **å‘åå…¼å®¹**: ä¿æŒä¸ç°æœ‰åç«¯ API çš„å…¼å®¹æ€§

### æŠ€æœ¯æ ˆ

- **å¼€å‘è¯­è¨€**: Kotlin (ä¸»è¦) + Java (å…¼å®¹ç°æœ‰ä»£ç )
- **æœ€ä½ SDK**: Android 7.0 (API 24)
- **ç›®æ ‡ SDK**: Android 16 (API 36)
- **æ¶æ„æ¨¡å¼**: MVVM (Model-View-ViewModel)
- **ä¾èµ–æ³¨å…¥**: Hilt
- **å¼‚æ­¥å¤„ç†**: Kotlin Coroutines + Flow
- **ç½‘ç»œè¯·æ±‚**: Retrofit 2 + OkHttp
- **æœ¬åœ°æ•°æ®åº“**: Room
- **å›¾è¡¨åº“**: MPAndroidChart
- **UI æ¡†æ¶**: Jetpack Compose + Material Design 3
- **å¯¼èˆª**: Jetpack Navigation Component
- **æ•°æ®å¯¼å‡º**: Apache POI

## æ¶æ„è®¾è®¡

### æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Presentation Layer                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Compose    â”‚  â”‚  Activities  â”‚  â”‚   WebView    â”‚  â”‚
â”‚  â”‚     UI       â”‚  â”‚  Fragments   â”‚  â”‚   Container  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â”‚                â”‚                  â”‚          â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                            â”‚                             â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚                     â”‚  ViewModels â”‚                      â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Domain Layer                          â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚                     â”‚  Use Cases  â”‚                       â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                            â”‚                              â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚                     â”‚ Repositoriesâ”‚                       â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Data Layer                           â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚         â”‚                                      â”‚           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   Room DB   â”‚                      â”‚  Retrofit    â”‚    â”‚
â”‚  â”‚  (Local)    â”‚                      â”‚  (Remote)    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¨¡å—åˆ’åˆ†


#### app (ä¸»åº”ç”¨æ¨¡å—)
- åº”ç”¨å…¥å£å’Œä¸» Activity
- å¯¼èˆªé…ç½®
- ä¾èµ–æ³¨å…¥é…ç½®
- æ··åˆæ¶æ„ç®¡ç†å™¨

#### feature-expenses (æ”¯å‡ºåŠŸèƒ½æ¨¡å—)
- æ”¯å‡ºè®°å½•çš„ UIã€ViewModel å’Œä¸šåŠ¡é€»è¾‘
- æ”¯å‡ºåˆ—è¡¨ã€æ·»åŠ ã€ç¼–è¾‘ç•Œé¢

#### feature-debts (å€ºåŠ¡åŠŸèƒ½æ¨¡å—)
- å€ºåŠ¡ç®¡ç†çš„ UI å’Œä¸šåŠ¡é€»è¾‘
- å€Ÿå…¥/å€Ÿå‡ºè®°å½•ç®¡ç†

#### feature-donations (æèµ åŠŸèƒ½æ¨¡å—)
- æèµ è®°å½•çš„ UI å’Œä¸šåŠ¡é€»è¾‘

#### feature-charts (å›¾è¡¨åŠŸèƒ½æ¨¡å—)
- æ•°æ®å¯è§†åŒ–å’Œç»Ÿè®¡åˆ†æ
- å„ç±»å›¾è¡¨å±•ç¤º

#### feature-membership (ä¼šå‘˜åŠŸèƒ½æ¨¡å—)
- ä¼šå‘˜ç®¡ç†å’Œè®¢é˜…åŠŸèƒ½

#### core-data (æ•°æ®å±‚æ ¸å¿ƒæ¨¡å—)
- Room æ•°æ®åº“å®šä¹‰
- Repository å®ç°
- æ•°æ®åŒæ­¥é€»è¾‘

#### core-network (ç½‘ç»œå±‚æ ¸å¿ƒæ¨¡å—)
- Retrofit API å®šä¹‰
- ç½‘ç»œè¯·æ±‚æ‹¦æˆªå™¨
- é”™è¯¯å¤„ç†

#### core-ui (UI æ ¸å¿ƒæ¨¡å—)
- é€šç”¨ Compose ç»„ä»¶
- ä¸»é¢˜å’Œæ ·å¼å®šä¹‰
- é€šç”¨ UI å·¥å…·

#### core-common (é€šç”¨æ ¸å¿ƒæ¨¡å—)
- å·¥å…·ç±»å’Œæ‰©å±•å‡½æ•°
- å¸¸é‡å®šä¹‰
- é€šç”¨æ•°æ®æ¨¡å‹

## ç»„ä»¶å’Œæ¥å£

### æ··åˆæ¶æ„ç®¡ç†å™¨

```kotlin
/**
 * ç®¡ç†åŸç”ŸåŠŸèƒ½å’Œ WebView åŠŸèƒ½çš„åˆ‡æ¢
 */
interface HybridArchitectureManager {
    /**
     * æ£€æŸ¥æŸä¸ªåŠŸèƒ½æ˜¯å¦å·²è¿ç§»åˆ°åŸç”Ÿå®ç°
     */
    fun isFeatureNative(feature: Feature): Boolean
    
    /**
     * è·å–åŠŸèƒ½çš„å®ç°ç±»å‹
     */
    fun getFeatureImplementation(feature: Feature): ImplementationType
    
    /**
     * å¯åŠ¨åŠŸèƒ½ï¼ˆè‡ªåŠ¨é€‰æ‹©åŸç”Ÿæˆ– WebViewï¼‰
     */
    fun launchFeature(context: Context, feature: Feature, params: Bundle? = null)
}

enum class Feature {
    EXPENSES,
    DEBTS,
    DONATIONS,
    CHARTS,
    MEMBERSHIP,
    MINIAPPS
}

enum class ImplementationType {
    NATIVE,
    WEBVIEW,
    HYBRID
}
```



### æ•°æ®å±‚æ¥å£

#### Repository æ¥å£

```kotlin
/**
 * æ”¯å‡ºè®°å½• Repository
 */
interface ExpenseRepository {
    suspend fun getExpenses(
        page: Int,
        limit: Int,
        filters: ExpenseFilters
    ): Flow<PagingData<Expense>>
    
    suspend fun addExpense(expense: Expense): Result<Expense>
    suspend fun updateExpense(expense: Expense): Result<Expense>
    suspend fun deleteExpense(id: String): Result<Unit>
    suspend fun getStatistics(filters: ExpenseFilters): Result<ExpenseStatistics>
    suspend fun syncWithServer(): Result<SyncResult>
}

/**
 * å€ºåŠ¡è®°å½• Repository
 */
interface DebtRepository {
    suspend fun getDebts(filters: DebtFilters): Flow<List<Debt>>
    suspend fun addDebt(debt: Debt): Result<Debt>
    suspend fun updateDebt(debt: Debt): Result<Debt>
    suspend fun deleteDebt(id: String): Result<Unit>
    suspend fun markAsRepaid(id: String): Result<Unit>
}

/**
 * ä¼šå‘˜ Repository
 */
interface MemberRepository {
    suspend fun login(username: String): Result<Member>
    suspend fun getMemberInfo(): Result<Member>
    suspend fun getSubscriptionStatus(): Result<SubscriptionStatus>
    suspend fun logout(): Result<Unit>
}
```

#### æ•°æ®åŒæ­¥ç­–ç•¥

```kotlin
/**
 * æ•°æ®åŒæ­¥ç®¡ç†å™¨
 */
interface SyncManager {
    /**
     * æ‰§è¡Œå®Œæ•´åŒæ­¥
     */
    suspend fun performFullSync(): Result<SyncResult>
    
    /**
     * ä¸Šä¼ æœ¬åœ°æ›´æ”¹
     */
    suspend fun uploadLocalChanges(): Result<UploadResult>
    
    /**
     * ä¸‹è½½æœåŠ¡å™¨æ›´æ–°
     */
    suspend fun downloadServerUpdates(): Result<DownloadResult>
    
    /**
     * è§£å†³åŒæ­¥å†²çª
     */
    suspend fun resolveConflicts(conflicts: List<SyncConflict>): Result<Unit>
    
    /**
     * è·å–æœ€ååŒæ­¥æ—¶é—´
     */
    fun getLastSyncTime(): Long?
}
```



## æ•°æ®æ¨¡å‹

### Room æ•°æ®åº“å®ä½“

```kotlin
@Entity(tableName = "expenses")
data class ExpenseEntity(
    @PrimaryKey val id: String = UUID.randomUUID().toString(),
    @ColumnInfo(name = "type") val type: String,
    @ColumnInfo(name = "remark") val remark: String?,
    @ColumnInfo(name = "amount") val amount: Double,
    @ColumnInfo(name = "time") val time: Long,
    @ColumnInfo(name = "created_at") val createdAt: Long = System.currentTimeMillis(),
    @ColumnInfo(name = "updated_at") val updatedAt: Long = System.currentTimeMillis(),
    @ColumnInfo(name = "is_synced") val isSynced: Boolean = false,
    @ColumnInfo(name = "server_id") val serverId: String? = null
)

@Entity(tableName = "debts")
data class DebtEntity(
    @PrimaryKey val id: String = UUID.randomUUID().toString(),
    @ColumnInfo(name = "type") val type: String, // "lend" or "borrow"
    @ColumnInfo(name = "person") val person: String,
    @ColumnInfo(name = "amount") val amount: Double,
    @ColumnInfo(name = "date") val date: Long,
    @ColumnInfo(name = "is_repaid") val isRepaid: Boolean = false,
    @ColumnInfo(name = "remark") val remark: String?,
    @ColumnInfo(name = "created_at") val createdAt: Long = System.currentTimeMillis(),
    @ColumnInfo(name = "updated_at") val updatedAt: Long = System.currentTimeMillis(),
    @ColumnInfo(name = "is_synced") val isSynced: Boolean = false,
    @ColumnInfo(name = "server_id") val serverId: String? = null
)

@Entity(tableName = "members")
data class MemberEntity(
    @PrimaryKey val id: String,
    @ColumnInfo(name = "username") val username: String,
    @ColumnInfo(name = "is_active") val isActive: Boolean,
    @ColumnInfo(name = "created_at") val createdAt: Long,
    @ColumnInfo(name = "updated_at") val updatedAt: Long
)

@Entity(tableName = "sync_queue")
data class SyncQueueEntity(
    @PrimaryKey(autoGenerate = true) val id: Long = 0,
    @ColumnInfo(name = "entity_type") val entityType: String,
    @ColumnInfo(name = "entity_id") val entityId: String,
    @ColumnInfo(name = "operation") val operation: String, // "CREATE", "UPDATE", "DELETE"
    @ColumnInfo(name = "data") val data: String, // JSON
    @ColumnInfo(name = "retry_count") val retryCount: Int = 0,
    @ColumnInfo(name = "created_at") val createdAt: Long = System.currentTimeMillis()
)
```

### é¢†åŸŸæ¨¡å‹

```kotlin
data class Expense(
    val id: String,
    val type: ExpenseType,
    val remark: String?,
    val amount: Double,
    val time: LocalDateTime,
    val isSynced: Boolean = false
)

enum class ExpenseType(val displayName: String) {
// è¿™é‡Œæœ‰åå‡ ç§ï¼Œ'æ—¥å¸¸ç”¨å“', 'å¥¢ä¾ˆå“', 'é€šè®¯è´¹ç”¨', 'é£Ÿå“', 'é›¶é£Ÿç³–æœ', 'å†·é¥®', 'æ–¹ä¾¿é£Ÿå“', 'çººç»‡å“', 'é¥®å“', 'è°ƒå‘³å“', 'äº¤é€šå‡ºè¡Œ', 'é¤é¥®', 'åŒ»ç–—è´¹ç”¨', 'æ°´æœ', 'å…¶ä»–', 'æ°´äº§å“', 'ä¹³åˆ¶å“', 'ç¤¼ç‰©äººæƒ…', 'æ—…è¡Œåº¦å‡', 'æ”¿åŠ¡', 'æ°´ç”µç…¤æ°”'
}

data class Debt(
    val id: String,
    val type: DebtType,
    val person: String,
    val amount: Double,
    val date: LocalDate,
    val isRepaid: Boolean,
    val remark: String?
)

enum class DebtType {
    LEND,    // å€Ÿå‡º
    BORROW   // å€Ÿå…¥
}
```



### API å“åº”æ¨¡å‹

```kotlin
data class ApiResponse<T>(
    val success: Boolean,
    val data: T?,
    val message: String?,
    val error: String?
)

data class PaginatedResponse<T>(
    val data: List<T>,
    val total: Int,
    val page: Int,
    val limit: Int,
    val totalPages: Int
)

data class ExpenseDto(
    val id: Int?,
    val type: String,
    val remark: String?,
    val amount: Double,
    val time: String,
    val createdAt: String?,
    val updatedAt: String?
)

data class DebtDto(
    val id: Int?,
    val type: String,
    val person: String,
    val amount: Double,
    val date: String,
    val isRepaid: Boolean,
    val remark: String?,
    val createdAt: String?,
    val updatedAt: String?
)
```

## é”™è¯¯å¤„ç†

### é”™è¯¯ç±»å‹å®šä¹‰

```kotlin
sealed class AppError {
    data class NetworkError(val message: String, val cause: Throwable?) : AppError()
    data class DatabaseError(val message: String, val cause: Throwable?) : AppError()
    data class ValidationError(val field: String, val message: String) : AppError()
    data class AuthenticationError(val message: String) : AppError()
    data class SyncError(val message: String, val conflicts: List<SyncConflict>) : AppError()
    data class UnknownError(val message: String, val cause: Throwable?) : AppError()
}

data class SyncConflict(
    val entityType: String,
    val entityId: String,
    val localVersion: Any,
    val serverVersion: Any,
    val conflictType: ConflictType
)

enum class ConflictType {
    UPDATE_CONFLICT,  // æœ¬åœ°å’ŒæœåŠ¡å™¨éƒ½æœ‰æ›´æ–°
    DELETE_CONFLICT   // ä¸€æ–¹åˆ é™¤ï¼Œå¦ä¸€æ–¹æ›´æ–°
}
```

### é”™è¯¯å¤„ç†ç­–ç•¥

1. **ç½‘ç»œé”™è¯¯**: è‡ªåŠ¨é‡è¯•ï¼ˆæœ€å¤š 3 æ¬¡ï¼‰ï¼Œå¤±è´¥ååŠ å…¥åŒæ­¥é˜Ÿåˆ—
2. **æ•°æ®åº“é”™è¯¯**: è®°å½•æ—¥å¿—ï¼Œæ˜¾ç¤ºç”¨æˆ·å‹å¥½çš„é”™è¯¯æ¶ˆæ¯
3. **éªŒè¯é”™è¯¯**: åœ¨ UI å±‚æ˜¾ç¤ºå…·ä½“çš„å­—æ®µé”™è¯¯
4. **åŒæ­¥å†²çª**: ä¼˜å…ˆä½¿ç”¨æœ€æ–°ä¿®æ”¹æ—¶é—´çš„ç‰ˆæœ¬ï¼Œè®°å½•å†²çªæ—¥å¿—
5. **è®¤è¯é”™è¯¯**: æ¸…é™¤æœ¬åœ°ä»¤ç‰Œï¼Œè·³è½¬åˆ°ç™»å½•é¡µé¢



## æµ‹è¯•ç­–ç•¥

### å¼€å‘è€…æµ‹è¯•ï¼ˆæ¯ä¸ªç»„ä»¶å®Œæˆåï¼‰

1. **å•å…ƒæµ‹è¯•**:
   - Repository æµ‹è¯•: ä½¿ç”¨å†…å­˜æ•°æ®åº“æµ‹è¯•æ•°æ®è®¿é—®é€»è¾‘
   - ViewModel æµ‹è¯•: ä½¿ç”¨ MockK æ¨¡æ‹Ÿä¾èµ–ï¼Œæµ‹è¯•ä¸šåŠ¡é€»è¾‘
   - UseCase æµ‹è¯•: æµ‹è¯•ä¸šåŠ¡è§„åˆ™å’Œæ•°æ®è½¬æ¢
   - å·¥å…·ç±»æµ‹è¯•: æµ‹è¯•æ—¥æœŸæ ¼å¼åŒ–ã€æ•°æ®éªŒè¯ç­‰å·¥å…·å‡½æ•°

2. **é›†æˆæµ‹è¯•**:
   - æ•°æ®åº“è¿ç§»æµ‹è¯•: æµ‹è¯•æ•°æ®åº“ç‰ˆæœ¬å‡çº§
   - API é›†æˆæµ‹è¯•: ä½¿ç”¨ MockWebServer æµ‹è¯•ç½‘ç»œè¯·æ±‚
   - åŒæ­¥é€»è¾‘æµ‹è¯•: æµ‹è¯•æ•°æ®åŒæ­¥çš„å„ç§åœºæ™¯

3. **åŸºæœ¬åŠŸèƒ½æµ‹è¯•**:
   - åœ¨æ¨¡æ‹Ÿå™¨ä¸Šæµ‹è¯•åŸºæœ¬åŠŸèƒ½
   - éªŒè¯ UI æ˜¾ç¤ºæ­£ç¡®
   - éªŒè¯æ•°æ®æ“ä½œæ­£å¸¸
   - éªŒè¯é”™è¯¯å¤„ç†æ­£ç¡®

### çœŸæœºæµ‹è¯•ï¼ˆç”¨æˆ·éªŒè¯ï¼‰

æ¯ä¸ªç»„ä»¶å®Œæˆå¼€å‘è€…æµ‹è¯•åï¼Œå¿…é¡»è¿›è¡ŒçœŸæœºæµ‹è¯•ï¼š

1. **æµ‹è¯•å‡†å¤‡**:
   - ç”Ÿæˆ Debug APK æ–‡ä»¶
   - æä¾›æµ‹è¯•è¯´æ˜æ–‡æ¡£
   - åˆ—å‡ºéœ€è¦éªŒè¯çš„åŠŸèƒ½ç‚¹

2. **æµ‹è¯•å†…å®¹**:
   - åŠŸèƒ½å®Œæ•´æ€§: æ‰€æœ‰åŠŸèƒ½æŒ‰é¢„æœŸå·¥ä½œ
   - æ€§èƒ½è¡¨ç°: å“åº”é€Ÿåº¦ã€æµç•…åº¦
   - UI/UX: ç•Œé¢æ˜¾ç¤ºã€äº¤äº’ä½“éªŒ
   - å…¼å®¹æ€§: åœ¨ä¸åŒè®¾å¤‡ä¸Šçš„è¡¨ç°
   - ç¨³å®šæ€§: é•¿æ—¶é—´ä½¿ç”¨æ— å´©æºƒ

3. **æµ‹è¯•åé¦ˆ**:
   - ç”¨æˆ·è®°å½•å‘ç°çš„é—®é¢˜
   - å¼€å‘è€…ä¿®å¤é—®é¢˜
   - é‡æ–°æµ‹è¯•ç›´åˆ°é€šè¿‡
   - ç”¨æˆ·ç¡®è®¤åæ‰èƒ½ç»§ç»­ä¸‹ä¸€ä¸ªç»„ä»¶

### æµ‹è¯•è¦†ç›–ç‡ç›®æ ‡

- æ ¸å¿ƒä¸šåŠ¡é€»è¾‘: 80%+
- Repository å±‚: 70%+
- ViewModel å±‚: 75%+
- UI å±‚: åŸºæœ¬çš„äº¤äº’æµ‹è¯•

### APK ç”Ÿæˆå’Œåˆ†å‘

1. **Debug APK ç”Ÿæˆ**:
```bash
./gradlew assembleDebug
```
ç”Ÿæˆçš„ APK ä½äº: `app/build/outputs/apk/debug/app-debug.apk`

2. **ç­¾åé…ç½®**:
   - ä½¿ç”¨ Debug ç­¾åè¿›è¡Œæµ‹è¯•
   - æ­£å¼å‘å¸ƒå‰é…ç½® Release ç­¾å

3. **åˆ†å‘æ–¹å¼**:
   - ç›´æ¥ä¼ è¾“ APK æ–‡ä»¶
   - æˆ–ä½¿ç”¨ Firebase App Distribution
   - æˆ–ä½¿ç”¨å†…éƒ¨æµ‹è¯•æ¸ é“

## æ€§èƒ½ä¼˜åŒ–

### æ•°æ®åº“ä¼˜åŒ–

1. **ç´¢å¼•ç­–ç•¥**:
   - åœ¨ `time` å­—æ®µä¸Šåˆ›å»ºç´¢å¼•ï¼Œä¼˜åŒ–æŒ‰æ—¥æœŸæŸ¥è¯¢
   - åœ¨ `type` å­—æ®µä¸Šåˆ›å»ºç´¢å¼•ï¼Œä¼˜åŒ–æŒ‰ç±»å‹ç­›é€‰
   - åœ¨ `is_synced` å­—æ®µä¸Šåˆ›å»ºç´¢å¼•ï¼Œä¼˜åŒ–åŒæ­¥æŸ¥è¯¢

2. **åˆ†é¡µåŠ è½½**: ä½¿ç”¨ Paging 3 åº“å®ç°é«˜æ•ˆçš„åˆ†é¡µåŠ è½½

3. **æ•°æ®ç¼“å­˜**: ä½¿ç”¨ Room çš„æŸ¥è¯¢ç¼“å­˜æœºåˆ¶

### ç½‘ç»œä¼˜åŒ–

1. **è¯·æ±‚åˆå¹¶**: æ‰¹é‡ä¸Šä¼ å’Œä¸‹è½½æ•°æ®
2. **å‹ç¼©**: å¯ç”¨ GZIP å‹ç¼©
3. **ç¼“å­˜**: ä½¿ç”¨ OkHttp ç¼“å­˜æœºåˆ¶
4. **è¶…æ—¶è®¾ç½®**: åˆç†çš„è¿æ¥å’Œè¯»å–è¶…æ—¶æ—¶é—´

### UI ä¼˜åŒ–

1. **æ‡’åŠ è½½**: ä½¿ç”¨ LazyColumn å®ç°åˆ—è¡¨çš„æ‡’åŠ è½½
2. **å›¾ç‰‡ä¼˜åŒ–**: ä½¿ç”¨ Coil åº“åŠ è½½å’Œç¼“å­˜å›¾ç‰‡
3. **åŠ¨ç”»ä¼˜åŒ–**: ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿï¼Œé¿å…è¿‡åº¦ç»˜åˆ¶
4. **å†…å­˜ç®¡ç†**: åŠæ—¶é‡Šæ”¾ä¸éœ€è¦çš„èµ„æº



## å®‰å…¨è®¾è®¡

### æ•°æ®åŠ å¯†

1. **æœ¬åœ°æ•°æ®åŠ å¯†**:
   - ä½¿ç”¨ SQLCipher åŠ å¯† Room æ•°æ®åº“
   - ä½¿ç”¨ Android Keystore å­˜å‚¨åŠ å¯†å¯†é’¥
   - æ•æ„Ÿå­—æ®µï¼ˆå¦‚é‡‘é¢ï¼‰é¢å¤–åŠ å¯†

2. **ç½‘ç»œä¼ è¾“åŠ å¯†**:
   - å¼ºåˆ¶ä½¿ç”¨ HTTPS
   - å®ç°è¯ä¹¦å›ºå®šï¼ˆCertificate Pinningï¼‰
   - ä½¿ç”¨ TLS 1.2+

### è®¤è¯å’Œæˆæƒ

1. **JWT ä»¤ç‰Œç®¡ç†**:
   - ä½¿ç”¨ EncryptedSharedPreferences å­˜å‚¨ä»¤ç‰Œ
   - å®ç°ä»¤ç‰Œè‡ªåŠ¨åˆ·æ–°æœºåˆ¶
   - ä»¤ç‰Œè¿‡æœŸåè‡ªåŠ¨è·³è½¬ç™»å½•

2. **API è¯·æ±‚ç­¾å**:
   - åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ æ—¶é—´æˆ³å’Œç­¾å
   - é˜²æ­¢é‡æ”¾æ”»å‡»

### æ•°æ®éªŒè¯

1. **è¾“å…¥éªŒè¯**: åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½è¿›è¡Œæ•°æ®éªŒè¯
2. **SQL æ³¨å…¥é˜²æŠ¤**: ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢
3. **XSS é˜²æŠ¤**: å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œè½¬ä¹‰

## å›½é™…åŒ–è®¾è®¡

### å¤šè¯­è¨€æ”¯æŒ

**é‡è¦**: å¤šè¯­è¨€æ”¯æŒå¿…é¡»åœ¨é¡¹ç›®åˆæœŸå°±å®Œæ•´å®ç°ï¼Œæ¯ä¸ªæ–°å¢çš„ç•Œé¢å’ŒåŠŸèƒ½éƒ½å¿…é¡»åŒæ—¶æä¾›ä¸‰ç§è¯­è¨€çš„ç¿»è¯‘ã€‚

1. **èµ„æºæ–‡ä»¶ç»„ç»‡**:
```
res/
  values/
    strings.xml           # é»˜è®¤ï¼ˆè‹±æ–‡ï¼‰
  values-zh-rCN/
    strings.xml           # ç®€ä½“ä¸­æ–‡
  values-zh-rTW/
    strings.xml           # ç¹ä½“ä¸­æ–‡
```

2. **ç¿»è¯‘è¦æ±‚**:
   - æ¯ä¸ªæ–°å¢çš„å­—ç¬¦ä¸²å¿…é¡»åŒæ—¶åœ¨ä¸‰ä¸ªè¯­è¨€æ–‡ä»¶ä¸­å®šä¹‰
   - ä½¿ç”¨æœ‰æ„ä¹‰çš„ key åç§°ï¼Œå¦‚ `expense_add_title`
   - ä¿æŒç¿»è¯‘çš„ä¸€è‡´æ€§å’Œå‡†ç¡®æ€§
   - å‚è€ƒç°æœ‰ Vue.js åº”ç”¨çš„ç¿»è¯‘æ–‡ä»¶

3. **æ—¥æœŸå’Œæ•°å­—æ ¼å¼åŒ–**:
   - ä½¿ç”¨ `DateTimeFormatter` æ ¹æ® Locale æ ¼å¼åŒ–æ—¥æœŸ
   - ä½¿ç”¨ `NumberFormat` æ ¼å¼åŒ–è´§å¸å’Œæ•°å­—
   - æ”¯æŒä¸åŒåœ°åŒºçš„æ—¥æœŸæ ¼å¼ï¼ˆå¦‚ 2025-11-14 vs 11/14/2025ï¼‰

4. **åŠ¨æ€è¯­è¨€åˆ‡æ¢**:
   - æ”¯æŒåœ¨åº”ç”¨å†…åˆ‡æ¢è¯­è¨€
   - åˆ‡æ¢åç«‹å³æ›´æ–°æ‰€æœ‰ç•Œé¢æ–‡æœ¬
   - ä¿å­˜ç”¨æˆ·çš„è¯­è¨€åå¥½è®¾ç½®

5. **å¼€å‘æµç¨‹**:
   - å¼€å‘æ–°åŠŸèƒ½æ—¶ï¼Œå…ˆå®šä¹‰æ‰€æœ‰éœ€è¦çš„å­—ç¬¦ä¸²
   - åœ¨ä¸‰ä¸ªè¯­è¨€æ–‡ä»¶ä¸­åŒæ—¶æ·»åŠ ç¿»è¯‘
   - åœ¨ä»£ç ä¸­ä½¿ç”¨ `stringResource(R.string.xxx)` å¼•ç”¨
   - æµ‹è¯•æ—¶éªŒè¯æ‰€æœ‰è¯­è¨€çš„æ˜¾ç¤ºæ•ˆæœ

### è´§å¸æ”¯æŒ

- æ”¯æŒå¤šç§è´§å¸ç¬¦å·
- æ ¹æ®ç”¨æˆ·è®¾ç½®æ˜¾ç¤ºè´§å¸æ ¼å¼
- åœ¨æ•°æ®åº“ä¸­ç»Ÿä¸€ä½¿ç”¨æ•°å€¼å­˜å‚¨ï¼Œæ˜¾ç¤ºæ—¶è½¬æ¢



## è¿ç§»ç­–ç•¥

### é˜¶æ®µåˆ’åˆ†

**é‡è¦è¯´æ˜**: æ¯ä¸ªç»„ä»¶å®Œæˆåå¿…é¡»ç»è¿‡ä»¥ä¸‹éªŒè¯æµç¨‹æ‰èƒ½ç»§ç»­ä¸‹ä¸€ä¸ªç»„ä»¶ï¼š
1. å¼€å‘è€…è¿›è¡Œå•å…ƒæµ‹è¯•å’ŒåŸºæœ¬åŠŸèƒ½æµ‹è¯•
2. ç”Ÿæˆå¯å®‰è£…çš„ APK æ–‡ä»¶
3. æäº¤ç»™ç”¨æˆ·è¿›è¡ŒçœŸæœºæµ‹è¯•
4. ç”¨æˆ·ç¡®è®¤åŠŸèƒ½æ­£å¸¸åï¼Œæ‰èƒ½å¼€å§‹ä¸‹ä¸€ä¸ªç»„ä»¶çš„å¼€å‘

#### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€è®¾æ–½
**ç»„ä»¶ 1.1**: é¡¹ç›®ç»“æ„å’Œä¾èµ–é…ç½®
- æ­å»ºé¡¹ç›®ç»“æ„å’Œæ¨¡å—
- é…ç½® Gradle ä¾èµ–
- é…ç½® Hilt ä¾èµ–æ³¨å…¥
- é…ç½®å¤šè¯­è¨€èµ„æºæ–‡ä»¶ï¼ˆç®€ä½“ä¸­æ–‡ã€ç¹ä½“ä¸­æ–‡ã€è‹±æ–‡ï¼‰
- å®ç°è¯­è¨€åˆ‡æ¢æœºåˆ¶
- **éªŒè¯ç‚¹**: é¡¹ç›®å¯ä»¥æˆåŠŸç¼–è¯‘å’Œè¿è¡Œï¼Œå¤šè¯­è¨€åˆ‡æ¢æ­£å¸¸

**ç»„ä»¶ 1.2**: æ··åˆæ¶æ„ç®¡ç†å™¨
- å®ç°åŠŸèƒ½å¼€å…³ç³»ç»Ÿ
- å®ç°åŸç”Ÿ/WebView åˆ‡æ¢é€»è¾‘
- åˆ›å»ºä¸»å¯¼èˆªæ¡†æ¶
- **éªŒè¯ç‚¹**: å¯ä»¥åœ¨åŸç”Ÿç•Œé¢å’Œ WebView ä¹‹é—´åˆ‡æ¢

**ç»„ä»¶ 1.3**: Room æ•°æ®åº“åŸºç¡€
- å®šä¹‰æ•°æ®åº“å®ä½“
- åˆ›å»º DAO æ¥å£
- å®ç°æ•°æ®åº“è¿ç§»
- **éªŒè¯ç‚¹**: å¯ä»¥æˆåŠŸåˆ›å»ºæ•°æ®åº“å¹¶æ‰§è¡ŒåŸºæœ¬çš„å¢åˆ æ”¹æŸ¥

**ç»„ä»¶ 1.4**: Retrofit API å®¢æˆ·ç«¯
- å®šä¹‰ API æ¥å£
- é…ç½®ç½‘ç»œæ‹¦æˆªå™¨
- å®ç°é”™è¯¯å¤„ç†
- **éªŒè¯ç‚¹**: å¯ä»¥æˆåŠŸè°ƒç”¨åç«¯ API

#### ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒåŠŸèƒ½

**ç»„ä»¶ 2.1**: æ”¯å‡ºåˆ—è¡¨å±•ç¤º
- å®ç°æ”¯å‡ºåˆ—è¡¨ UI
- å®ç°åˆ†é¡µåŠ è½½
- å®ç°ä¸‹æ‹‰åˆ·æ–°
- **éªŒè¯ç‚¹**: å¯ä»¥æ­£ç¡®æ˜¾ç¤ºæ”¯å‡ºåˆ—è¡¨

**ç»„ä»¶ 2.2**: æ·»åŠ æ”¯å‡ºè®°å½•
- å®ç°æ·»åŠ æ”¯å‡º UI
- å®ç°è¡¨å•éªŒè¯
- å®ç°æ•°æ®ä¿å­˜
- **éªŒè¯ç‚¹**: å¯ä»¥æˆåŠŸæ·»åŠ æ”¯å‡ºè®°å½•

**ç»„ä»¶ 2.3**: ç¼–è¾‘å’Œåˆ é™¤æ”¯å‡º
- å®ç°ç¼–è¾‘åŠŸèƒ½
- å®ç°åˆ é™¤åŠŸèƒ½ï¼ˆå·¦æ»‘åˆ é™¤ï¼‰
- å®ç°ç¡®è®¤å¯¹è¯æ¡†
- **éªŒè¯ç‚¹**: å¯ä»¥æˆåŠŸç¼–è¾‘å’Œåˆ é™¤æ”¯å‡ºè®°å½•

**ç»„ä»¶ 2.4**: æœç´¢å’Œç­›é€‰
- å®ç°æœç´¢åŠŸèƒ½
- å®ç°ç±»å‹ç­›é€‰
- å®ç°æ—¥æœŸèŒƒå›´ç­›é€‰
- **éªŒè¯ç‚¹**: æœç´¢å’Œç­›é€‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ

**ç»„ä»¶ 2.5**: æ•°æ®åŒæ­¥æœºåˆ¶
- å®ç°ä¸Šä¼ æœ¬åœ°æ•°æ®
- å®ç°ä¸‹è½½æœåŠ¡å™¨æ•°æ®
- å®ç°å†²çªè§£å†³
- **éªŒè¯ç‚¹**: æ•°æ®å¯ä»¥æ­£ç¡®åŒæ­¥

**ç»„ä»¶ 2.6**: ç”¨æˆ·è®¤è¯
- å®ç°ç™»å½•ç•Œé¢
- å®ç°ä»¤ç‰Œç®¡ç†
- å®ç°è‡ªåŠ¨ç™»å½•
- **éªŒè¯ç‚¹**: å¯ä»¥æˆåŠŸç™»å½•å¹¶ä¿æŒç™»å½•çŠ¶æ€

#### ç¬¬ä¸‰é˜¶æ®µï¼šæ‰©å±•åŠŸèƒ½

**ç»„ä»¶ 3.1**: å€ºåŠ¡ç®¡ç†
- å®ç°å€ºåŠ¡åˆ—è¡¨
- å®ç°æ·»åŠ /ç¼–è¾‘å€ºåŠ¡
- å®ç°è¿˜æ¬¾æ ‡è®°
- **éªŒè¯ç‚¹**: å€ºåŠ¡ç®¡ç†åŠŸèƒ½æ­£å¸¸å·¥ä½œ

**ç»„ä»¶ 3.2**: æèµ è®°å½•
- å®ç°æèµ åˆ—è¡¨
- å®ç°æ·»åŠ /ç¼–è¾‘æèµ 
- å®ç°ç»Ÿè®¡åŠŸèƒ½
- **éªŒè¯ç‚¹**: æèµ è®°å½•åŠŸèƒ½æ­£å¸¸å·¥ä½œ

**ç»„ä»¶ 3.3**: é¢„ç®—ç®¡ç†
- å®ç°é¢„ç®—è®¾ç½®
- å®ç°é¢„ç®—æ˜¾ç¤º
- å®ç°é¢„ç®—æé†’
- **éªŒè¯ç‚¹**: é¢„ç®—ç®¡ç†åŠŸèƒ½æ­£å¸¸å·¥ä½œ

#### ç¬¬å››é˜¶æ®µï¼šæ•°æ®å¯è§†åŒ–

**ç»„ä»¶ 4.1**: è¶‹åŠ¿å›¾è¡¨
- å®ç°æŠ˜çº¿å›¾
- å®ç°æ•°æ®åŠ è½½
- å®ç°æ—¶é—´èŒƒå›´é€‰æ‹©
- **éªŒè¯ç‚¹**: è¶‹åŠ¿å›¾è¡¨æ­£ç¡®æ˜¾ç¤º

**ç»„ä»¶ 4.2**: åˆ†ç±»ç»Ÿè®¡
- å®ç°é¥¼å›¾
- å®ç°åˆ†ç±»å æ¯”
- å®ç°è¯¦ç»†ç»Ÿè®¡
- **éªŒè¯ç‚¹**: åˆ†ç±»ç»Ÿè®¡æ­£ç¡®æ˜¾ç¤º

**ç»„ä»¶ 4.3**: æ•°æ®å¯¼å‡º
- å®ç° Excel å¯¼å‡º
- å®ç°æ–‡ä»¶ä¿å­˜
- å®ç°å¯¼å…¥åŠŸèƒ½
- **éªŒè¯ç‚¹**: å¯ä»¥æˆåŠŸå¯¼å‡ºå’Œå¯¼å…¥æ•°æ®

#### ç¬¬äº”é˜¶æ®µï¼šé«˜çº§åŠŸèƒ½

**ç»„ä»¶ 5.1**: ä¼šå‘˜ç®¡ç†
- å®ç°ä¼šå‘˜çŠ¶æ€æ˜¾ç¤º
- å®ç°è®¢é˜…åŠŸèƒ½
- å®ç°ç»­è´¹æé†’
- **éªŒè¯ç‚¹**: ä¼šå‘˜ç®¡ç†åŠŸèƒ½æ­£å¸¸å·¥ä½œ

**ç»„ä»¶ 5.2**: å°ç¨‹åºç®¡ç†
- å®ç°å°ç¨‹åºåˆ—è¡¨
- å®ç°å°ç¨‹åºå¯åŠ¨
- å®ç°æƒé™ç®¡ç†
- **éªŒè¯ç‚¹**: å°ç¨‹åºåŠŸèƒ½æ­£å¸¸å·¥ä½œ

#### ç¬¬å…­é˜¶æ®µï¼šä¼˜åŒ–å’Œå®Œå–„

**ç»„ä»¶ 6.1**: æ€§èƒ½ä¼˜åŒ–
- ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢
- ä¼˜åŒ–ç½‘ç»œè¯·æ±‚
- ä¼˜åŒ– UI æ¸²æŸ“
- **éªŒè¯ç‚¹**: åº”ç”¨è¿è¡Œæµç•…ï¼Œæ— æ˜æ˜¾å¡é¡¿

**ç»„ä»¶ 6.2**: æœ€ç»ˆæµ‹è¯•å’Œå‘å¸ƒå‡†å¤‡
- å…¨é¢åŠŸèƒ½æµ‹è¯•
- ä¿®å¤å·²çŸ¥ Bug
- å‡†å¤‡å‘å¸ƒææ–™
- **éªŒè¯ç‚¹**: åº”ç”¨å¯ä»¥æ­£å¼å‘å¸ƒ

### åŠŸèƒ½è¿ç§»ä¼˜å…ˆçº§

1. **é«˜ä¼˜å…ˆçº§**ï¼ˆå¿…é¡»å…ˆè¿ç§»ï¼‰:
   - æ··åˆæ¶æ„åŸºç¡€
   - æ•°æ®åŒæ­¥æœºåˆ¶
   - æ”¯å‡ºè®°å½•åŠŸèƒ½
   - ç”¨æˆ·è®¤è¯

2. **ä¸­ä¼˜å…ˆçº§**ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰:
   - å€ºåŠ¡ç®¡ç†
   - å›¾è¡¨å±•ç¤º
   - æœç´¢ç­›é€‰
   - æ•°æ®å¯¼å‡º

3. **ä½ä¼˜å…ˆçº§**ï¼ˆå¯å»¶åï¼‰:
   - æèµ è®°å½•
   - ä¼šå‘˜ç®¡ç†
   - å°ç¨‹åºç®¡ç†
   - é«˜çº§ç»Ÿè®¡

### æ•°æ®è¿ç§»æ–¹æ¡ˆ

1. **åˆå§‹æ•°æ®å¯¼å…¥**:
   - ä» WebView çš„ localStorage è¯»å–ç°æœ‰æ•°æ®
   - è½¬æ¢ä¸º Room æ•°æ®åº“æ ¼å¼
   - æ‰§è¡Œä¸€æ¬¡æ€§å¯¼å…¥

2. **å¢é‡åŒæ­¥**:
   - åœ¨æ··åˆæ¨¡å¼ä¸‹ï¼Œç¡®ä¿ä¸¤è¾¹æ•°æ®å®æ—¶åŒæ­¥
   - ä½¿ç”¨æ—¶é—´æˆ³åˆ¤æ–­æ•°æ®æ–°æ—§
   - å†²çªæ—¶ä¼˜å…ˆä½¿ç”¨æœ€æ–°æ•°æ®

3. **å®Œå…¨è¿ç§»å**:
   - ç§»é™¤ WebView ç›¸å…³ä»£ç 
   - æ¸…ç†ä¸éœ€è¦çš„ä¾èµ–
   - ä¼˜åŒ–åº”ç”¨ä½“ç§¯



## UI/UX è®¾è®¡

### è®¾è®¡åŸåˆ™

1. **ä¸€è‡´æ€§**: éµå¾ª Material Design 3 è®¾è®¡è§„èŒƒ
2. **ç®€æ´æ€§**: ç•Œé¢ç®€æ´æ˜äº†ï¼Œå‡å°‘ç”¨æˆ·è®¤çŸ¥è´Ÿæ‹…
3. **å“åº”æ€§**: å¿«é€Ÿå“åº”ç”¨æˆ·æ“ä½œï¼Œæä¾›å³æ—¶åé¦ˆ
4. **å¯è®¿é—®æ€§**: æ”¯æŒå¤§å­—ä½“ã€é«˜å¯¹æ¯”åº¦ç­‰æ— éšœç¢åŠŸèƒ½

### ä¸»è¦ç•Œé¢

#### ä¸»ç•Œé¢ï¼ˆæ”¯å‡ºåˆ—è¡¨ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â˜°  Home Finance Tracker      âš™ï¸   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [æœç´¢æ¡†]    é‡‘é¢èŒƒå›´ç­›é€‰     ğŸ”     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç­›é€‰: [å…¨éƒ¨ç±»å‹ â–¼] [æœ¬æœˆ â–¼]   æ’åº  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æœ¬æœˆé¢„ç®—: Â¥3,000.00          æ­£å¸¸   â”‚
â”‚  æ”¯å‡ºå‰©ä½™: Â¥1,500.00 (50%)         â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
|ç­›é€‰çš„è®°å½•æ•°ï¼š100     æ€»é‡‘é¢ï¼š1000.00
|å¹³å‡å€¼ï¼š35.00         ä¸­ä½æ•°ï¼š24.00    |
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“… 2025-11-14                      â”‚
â”‚  ğŸ” é¤é¥®                            â”‚
â”‚  åˆé¤                        -Â¥45.00â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ›’ è´­ç‰©                            â”‚
â”‚  æ—¥ç”¨å“                     -Â¥128.50â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“… 2025-11-13                      â”‚
â”‚  ğŸš— äº¤é€š                            â”‚
â”‚  æ‰“è½¦                        -Â¥32.00â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ 1/100é¡µï¼Œ3/200æ¡ï¼Œ                  |
ä¸‹æ‹‰ä»¥ç»§ç»­åŠ è½½             [+] æ·»åŠ æ”¯å‡ºâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ·»åŠ æ”¯å‡ºç•Œé¢
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† æ·»åŠ æ”¯å‡º                    âœ“   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  ç±»å‹ *                             â”‚
â”‚  [é¤é¥® â–¼]                           â”‚
â”‚                                     â”‚
â”‚  é‡‘é¢ *                             â”‚
â”‚  [Â¥ 0.00]                           â”‚
â”‚                                     â”‚
â”‚  æ—¥æœŸ *                             â”‚
â”‚  [2025-11-14 ğŸ“…]                    â”‚
â”‚                                     â”‚
â”‚  å¤‡æ³¨                               â”‚
â”‚  [è¾“å…¥å¤‡æ³¨...]                      â”‚
â”‚                                     â”‚
â”‚                                     â”‚
â”‚                                     â”‚
â”‚                                     â”‚
â”‚                                     â”‚
â”‚                                     â”‚
â”‚                                     â”‚
â”‚                                     â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å›¾è¡¨ç•Œé¢
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† ç»Ÿè®¡åˆ†æ                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ—¶é—´èŒƒå›´: [æœ¬æœˆ â–¼]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ€»æ”¯å‡º: Â¥2,580.00                  â”‚
â”‚  å¹³å‡æ¯å¤©: Â¥185.71                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [è¶‹åŠ¿] [åˆ†ç±»] [å¯¹æ¯”]               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚      ğŸ“Š æ”¯å‡ºè¶‹åŠ¿å›¾                  â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  500 â”‚     â•±â•²              â”‚       â”‚
â”‚      â”‚    â•±  â•²    â•±â•²       â”‚       â”‚
â”‚  250 â”‚   â•±    â•²  â•±  â•²      â”‚       â”‚
â”‚      â”‚  â•±      â•²â•±    â•²     â”‚       â”‚
â”‚    0 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚       1  5  10  15  20  25         â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åˆ†ç±»å æ¯”                           â”‚
â”‚  ğŸ” é¤é¥®      35%  â”â”â”â”â”â”â”â”â”â”â”â”â”   â”‚
â”‚  ğŸ›’ è´­ç‰©      28%  â”â”â”â”â”â”â”â”â”â”      â”‚
â”‚  ğŸš— äº¤é€š      20%  â”â”â”â”â”â”â”         â”‚
â”‚  ğŸ® å¨±ä¹      12%  â”â”â”â”            â”‚
â”‚  ğŸ’¡ å…¶ä»–       5%  â”â”              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### äº¤äº’è®¾è®¡

1. **æ‰‹åŠ¿æ”¯æŒ**:
   - å·¦æ»‘åˆ é™¤æ”¯å‡ºè®°å½•
   - å³æ»‘ç¼–è¾‘æ”¯å‡ºè®°å½•
   - ä¸‹æ‹‰åˆ·æ–°åˆ—è¡¨
   - ä¸Šæ‹‰åŠ è½½æ›´å¤š

2. **åŠ¨ç”»æ•ˆæœ**:
   - é¡µé¢åˆ‡æ¢ä½¿ç”¨å…±äº«å…ƒç´ è¿‡æ¸¡
   - åˆ—è¡¨é¡¹æ·»åŠ /åˆ é™¤ä½¿ç”¨æ·¡å…¥æ·¡å‡ºåŠ¨ç”»
   - å›¾è¡¨æ•°æ®æ›´æ–°ä½¿ç”¨å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»

3. **åé¦ˆæœºåˆ¶**:
   - æ“ä½œæˆåŠŸæ˜¾ç¤º Snackbar æç¤º
   - æ“ä½œå¤±è´¥æ˜¾ç¤ºé”™è¯¯å¯¹è¯æ¡†
   - é•¿æ—¶é—´æ“ä½œæ˜¾ç¤ºè¿›åº¦æŒ‡ç¤ºå™¨

## ä¾èµ–ç®¡ç†

### ä¸»è¦ä¾èµ–åº“

```gradle
dependencies {
    // Kotlin
    implementation "org.jetbrains.kotlin:kotlin-stdlib:1.9.20"
    implementation "org.jetbrains.kotlinx:kotlinx-coroutines-android:1.7.3"
    
    // Android Core
    implementation "androidx.core:core-ktx:1.12.0"
    implementation "androidx.appcompat:appcompat:1.6.1"
    implementation "com.google.android.material:material:1.11.0"
    
    // Jetpack Compose
    implementation "androidx.compose.ui:ui:1.5.4"
    implementation "androidx.compose.material3:material3:1.1.2"
    implementation "androidx.compose.ui:ui-tooling-preview:1.5.4"
    implementation "androidx.activity:activity-compose:1.8.2"
    
    // Navigation
    implementation "androidx.navigation:navigation-compose:2.7.6"
    
    // Lifecycle
    implementation "androidx.lifecycle:lifecycle-viewmodel-compose:2.7.0"
    implementation "androidx.lifecycle:lifecycle-runtime-compose:2.7.0"
    
    // Room
    implementation "androidx.room:room-runtime:2.6.1"
    implementation "androidx.room:room-ktx:2.6.1"
    kapt "androidx.room:room-compiler:2.6.1"
    
    // Retrofit
    implementation "com.squareup.retrofit2:retrofit:2.9.0"
    implementation "com.squareup.retrofit2:converter-gson:2.9.0"
    implementation "com.squareup.okhttp3:logging-interceptor:4.12.0"
    
    // Hilt
    implementation "com.google.dagger:hilt-android:2.48.1"
    kapt "com.google.dagger:hilt-compiler:2.48.1"
    implementation "androidx.hilt:hilt-navigation-compose:1.1.0"
    
    // Paging
    implementation "androidx.paging:paging-runtime-ktx:3.2.1"
    implementation "androidx.paging:paging-compose:3.2.1"
    
    // Charts
    implementation "com.github.PhilJay:MPAndroidChart:v3.1.0"
    
    // Excel
    implementation "org.apache.poi:poi:5.2.5"
    implementation "org.apache.poi:poi-ooxml:5.2.5"
    
    // Security
    implementation "androidx.security:security-crypto:1.1.0-alpha06"
    implementation "net.zetetic:android-database-sqlcipher:4.5.4"
    
    // Image Loading
    implementation "io.coil-kt:coil-compose:2.5.0"
    
    // WorkManager
    implementation "androidx.work:work-runtime-ktx:2.9.0"
    
    // Testing
    testImplementation "junit:junit:4.13.2"
    testImplementation "io.mockk:mockk:1.13.8"
    testImplementation "org.jetbrains.kotlinx:kotlinx-coroutines-test:1.7.3"
    androidTestImplementation "androidx.test.ext:junit:1.1.5"
    androidTestImplementation "androidx.compose.ui:ui-test-junit4:1.5.4"
}
```

## æŠ€æœ¯å†³ç­–è®°å½•

### ä¸ºä»€ä¹ˆé€‰æ‹© Jetpack Composeï¼Ÿ

- **ç°ä»£åŒ–**: Google æ¨èçš„ç°ä»£ UI å·¥å…·åŒ…
- **å£°æ˜å¼**: ä»£ç æ›´ç®€æ´ï¼Œæ˜“äºç»´æŠ¤
- **æ€§èƒ½**: æ›´å¥½çš„æ¸²æŸ“æ€§èƒ½
- **äº’æ“ä½œæ€§**: å¯ä»¥ä¸ç°æœ‰ View ç³»ç»Ÿå…±å­˜

### ä¸ºä»€ä¹ˆé€‰æ‹© MVVM æ¶æ„ï¼Ÿ

- **å…³æ³¨ç‚¹åˆ†ç¦»**: UIã€ä¸šåŠ¡é€»è¾‘ã€æ•°æ®å±‚æ¸…æ™°åˆ†ç¦»
- **å¯æµ‹è¯•æ€§**: å„å±‚å¯ä»¥ç‹¬ç«‹æµ‹è¯•
- **ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥**: ViewModel è‡ªåŠ¨å¤„ç†é…ç½®å˜æ›´
- **å®˜æ–¹æ¨è**: Android å®˜æ–¹æ¨èçš„æ¶æ„æ¨¡å¼

### ä¸ºä»€ä¹ˆé€‰æ‹© Room è€Œä¸æ˜¯ SQLiteï¼Ÿ

- **ç±»å‹å®‰å…¨**: ç¼–è¯‘æ—¶æ£€æŸ¥ SQL è¯­å¥
- **æ›´å°‘æ ·æ¿ä»£ç **: è‡ªåŠ¨ç”Ÿæˆ DAO å®ç°
- **LiveData/Flow æ”¯æŒ**: è‡ªåŠ¨æ›´æ–° UI
- **è¿ç§»æ”¯æŒ**: å†…ç½®æ•°æ®åº“ç‰ˆæœ¬ç®¡ç†

### ä¸ºä»€ä¹ˆé€‰æ‹© Retrofitï¼Ÿ

- **ç®€æ´çš„ API**: ä½¿ç”¨æ³¨è§£å®šä¹‰æ¥å£
- **è½¬æ¢å™¨æ”¯æŒ**: è‡ªåŠ¨åºåˆ—åŒ–/ååºåˆ—åŒ–
- **æ‹¦æˆªå™¨**: æ–¹ä¾¿æ·»åŠ æ—¥å¿—ã€è®¤è¯ç­‰
- **åç¨‹æ”¯æŒ**: åŸç”Ÿæ”¯æŒ Kotlin åç¨‹

## é£é™©å’ŒæŒ‘æˆ˜

### æŠ€æœ¯é£é™©

1. **æ•°æ®åŒæ­¥å¤æ‚æ€§**: éœ€è¦å¤„ç†å„ç§å†²çªåœºæ™¯
   - ç¼“è§£æªæ–½: è¯¦ç»†çš„åŒæ­¥ç­–ç•¥è®¾è®¡å’Œå……åˆ†æµ‹è¯•

2. **æ€§èƒ½é—®é¢˜**: å¤§é‡æ•°æ®å¯èƒ½å½±å“æ€§èƒ½
   - ç¼“è§£æªæ–½: ä½¿ç”¨åˆ†é¡µã€ç´¢å¼•ä¼˜åŒ–ã€æ‡’åŠ è½½

3. **å…¼å®¹æ€§é—®é¢˜**: ä¸åŒ Android ç‰ˆæœ¬çš„å…¼å®¹æ€§
   - ç¼“è§£æªæ–½: å……åˆ†çš„è®¾å¤‡æµ‹è¯•ï¼Œä½¿ç”¨å…¼å®¹åº“

### é¡¹ç›®é£é™©

1. **æ—¶é—´ä¼°ç®—**: è¿ç§»å¯èƒ½æ¯”é¢„æœŸè€—æ—¶æ›´é•¿
   - ç¼“è§£æªæ–½: é‡‡ç”¨æ¸è¿›å¼è¿ç§»ï¼Œåˆ†é˜¶æ®µäº¤ä»˜

2. **èµ„æºé™åˆ¶**: å¼€å‘èµ„æºå¯èƒ½ä¸è¶³
   - ç¼“è§£æªæ–½: ä¼˜å…ˆè¿ç§»æ ¸å¿ƒåŠŸèƒ½ï¼Œéæ ¸å¿ƒåŠŸèƒ½å¯å»¶å

3. **ç”¨æˆ·ä½“éªŒ**: è¿ç§»è¿‡ç¨‹ä¸­å¯èƒ½å½±å“ç”¨æˆ·ä½“éªŒ
   - ç¼“è§£æªæ–½: ä¿æŒ WebView ä½œä¸ºåå¤‡ï¼Œç¡®ä¿åŠŸèƒ½å¯ç”¨

## åç»­ä¼˜åŒ–æ–¹å‘

1. **æ€§èƒ½ä¼˜åŒ–**:
   - ä½¿ç”¨ Baseline Profiles ä¼˜åŒ–å¯åŠ¨é€Ÿåº¦
   - å®ç°æ›´æ™ºèƒ½çš„ç¼“å­˜ç­–ç•¥
   - ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢

2. **åŠŸèƒ½å¢å¼º**:
   - æ”¯æŒå¤šè´¦æˆ·åˆ‡æ¢
   - æ”¯æŒæ•°æ®å¤‡ä»½åˆ°äº‘ç«¯
   - æ”¯æŒæ›´å¤šå›¾è¡¨ç±»å‹

3. **ç”¨æˆ·ä½“éªŒ**:
   - æ·»åŠ å°éƒ¨ä»¶ï¼ˆWidgetï¼‰
   - æ”¯æŒå¿«æ·æ–¹å¼
   - ä¼˜åŒ–æš—é»‘æ¨¡å¼

4. **æŠ€æœ¯å€ºåŠ¡**:
   - å®Œå…¨ç§»é™¤ WebView ä¾èµ–
   - è¿ç§»åˆ° Kotlin Multiplatformï¼ˆè€ƒè™‘ iOS ç‰ˆæœ¬ï¼‰
   - ä¼˜åŒ–æ¨¡å—åˆ’åˆ†
