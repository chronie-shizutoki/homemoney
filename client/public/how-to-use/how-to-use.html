<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>使用方法</title>
  <style>
    /* 基础样式与深色模式变量 */
    :root {
      --background-primary: #ffffff;
      --background-secondary: #f5f7fa;
      --text-primary: #333333;
      --text-secondary: #666666;
      --border-color: #e1e5e9;
      --card-background: #ffffff;
      --card-hover: #f8f9fa;
      --accent-color: #007bff;
      --accent-hover: #0056b3;
      --shadow-light: 0 2px 8px rgba(0, 0, 0, 0.08);
      --shadow-medium: 0 4px 16px rgba(0, 0, 0, 0.12);
      --modal-backdrop: rgba(0, 0, 0, 0.8);
      --nav-button-bg: rgba(0, 0, 0, 0.5);
      --nav-button-hover: rgba(0, 0, 0, 0.7);
      --tip-bg: #f5f7fa;
      --tip-border: #e1e5e9;
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --background-primary: #121212;
        --background-secondary: #1e1e1e;
        --text-primary: #e1e1e1;
        --text-secondary: #a0a0a0;
        --border-color: #333333;
        --card-background: #252525;
        --card-hover: #2d2d2d;
        --accent-color: #1e88e5;
        --accent-hover: #1976d2;
        --shadow-light: 0 2px 8px rgba(0, 0, 0, 0.3);
        --shadow-medium: 0 4px 16px rgba(0, 0, 0, 0.4);
        --modal-backdrop: rgba(0, 0, 0, 0.9);
        --nav-button-bg: rgba(255, 255, 255, 0.15);
        --nav-button-hover: rgba(255, 255, 255, 0.25);
        --tip-bg: #2d2d2d;
        --tip-border: #444444;
      }
    }

    /* 全局样式 */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
    }

    body {
      font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background-color: var(--background-primary);
      color: var(--text-primary);
      line-height: 1.6;
    }

    /* 头部样式 */
    .header {
      text-align: center;
      margin-bottom: 40px;
      padding: 20px 0;
    }

    .header h1 {
      color: var(--text-primary);
      font-size: 2.5rem;
      margin-bottom: 15px;
      font-weight: 600;
    }

    .header p {
      color: var(--text-secondary);
      font-size: 1.1rem;
    }

    /* 主题切换按钮 */
    .theme-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--card-background);
      border: 1px solid var(--border-color);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: var(--shadow-light);
      z-index: 1000;
      transition: all 0.3s ease;
    }

    .theme-toggle:hover {
      transform: scale(1.05);
      box-shadow: var(--shadow-medium);
    }

    /* 图片网格样式 */
    .image-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 24px;
      margin-bottom: 40px;
    }

    .image-card {
      background: var(--card-background);
      border: 1px solid var(--border-color);
      border-radius: 12px;
      overflow: hidden;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: var(--shadow-light);
    }

    .image-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-medium);
      background: var(--card-hover);
      border-color: var(--accent-color);
    }

    .image-container {
      width: 100%;
      height: 160px;
      overflow: hidden;
      background: var(--background-secondary);
    }

    .image-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }

    .image-card:hover img {
      transform: scale(1.05);
    }

    .image-card p {
      padding: 16px;
      text-align: center;
      font-weight: 500;
      margin: 0;
      color: var(--text-primary);
    }

    /* 提示框样式 */
    .tips-container {
      background: var(--tip-bg);
      border: 1px solid var(--tip-border);
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 40px;
    }

    .tips-container h3 {
      color: var(--text-primary);
      margin-bottom: 16px;
      font-size: 1.3rem;
    }

    .tips-container ul {
      list-style: none;
      padding: 0;
    }

    .tips-container li {
      position: relative;
      padding-left: 28px;
      margin-bottom: 12px;
      color: var(--text-secondary);
      line-height: 1.6;
    }

    .tips-container li:before {
      content: '✓';
      position: absolute;
      left: 0;
      color: var(--accent-color);
      font-weight: bold;
    }

    /* 模态框样式 */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--modal-backdrop);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .modal-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .modal-content {
      position: relative;
      max-width: 90%;
      max-height: 90%;
      transform: scale(0.9);
      transition: transform 0.3s ease;
    }

    .modal-overlay.active .modal-content {
      transform: scale(1);
    }

    .modal-content img {
      max-width: 100%;
      max-height: 85vh;
      border-radius: 8px;
      box-shadow: var(--shadow-medium);
    }

    /* 导航按钮样式 */
    .nav-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: var(--nav-button-bg);
      color: white;
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      font-size: 24px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      backdrop-filter: blur(5px);
    }

    .nav-btn:hover {
      background: var(--nav-button-hover);
      transform: translateY(-50%) scale(1.1);
    }

    .prev {
      left: -25px;
    }

    .next {
      right: -25px;
    }

    /* 关闭按钮样式 */
    .close-btn {
      position: absolute;
      top: -60px;
      right: 0;
      color: white;
      font-size: 40px;
      cursor: pointer;
      transition: all 0.3s ease;
      line-height: 1;
    }

    .close-btn:hover {
      transform: rotate(90deg);
      opacity: 0.8;
    }

    /* 响应式设计 */
    @media (max-width: 768px) {
      body {
        padding: 15px;
      }

      .header h1 {
        font-size: 2rem;
      }

      .image-grid {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 16px;
      }

      .image-container {
        height: 120px;
      }

      .tips-container {
        padding: 20px;
      }

      .nav-btn {
        width: 40px;
        height: 40px;
        font-size: 20px;
      }

      .prev {
        left: -20px;
      }

      .next {
        right: -20px;
      }

      .close-btn {
        top: -50px;
        font-size: 32px;
      }
    }

    @media (max-width: 480px) {
      .image-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .theme-toggle {
        width: 40px;
        height: 40px;
        top: 15px;
        right: 15px;
      }
    }
  </style>
</head>
<body>
  <!-- 主题切换按钮 -->
  <button class="theme-toggle" id="themeToggle" title="切换主题">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </button>

  <!-- 头部 -->
  <div class="header">
    <h1>使用指南</h1>
    <p>点击下方卡片查看详细功能说明</p>
  </div>

  <!-- 图片网格 -->
  <div class="image-grid">
    <div class="image-card" onclick="openViewer(0)">
      <div class="image-container">
        <img src="/assets/help/1.png" alt="主界面" loading="lazy">
      </div>
      <p>主界面</p>
    </div>
    
    <div class="image-card" onclick="openViewer(1)">
      <div class="image-container">
        <img src="/assets/help/2.png" alt="预算管理" loading="lazy">
      </div>
      <p>预算管理</p>
    </div>
    
    <div class="image-card" onclick="openViewer(2)">
      <div class="image-container">
        <img src="/assets/help/3.png" alt="预算设置" loading="lazy">
      </div>
      <p>预算设置</p>
    </div>
    
    <div class="image-card" onclick="openViewer(3)">
      <div class="image-container">
        <img src="/assets/help/4.png" alt="图表查看" loading="lazy">
      </div>
      <p>图表查看</p>
    </div>
    
    <div class="image-card" onclick="openViewer(4)">
      <div class="image-container">
        <img src="/assets/help/5.png" alt="搜索" loading="lazy">
      </div>
      <p>搜索</p>
    </div>
    
    <div class="image-card" onclick="openViewer(5)">
      <div class="image-container">
        <img src="/assets/help/6.png" alt="分析与内容" loading="lazy">
      </div>
      <p>分析与内容</p>
    </div>
    
    <div class="image-card" onclick="openViewer(6)">
      <div class="image-container">
        <img src="/assets/help/7.png" alt="底部杂项" loading="lazy">
      </div>
      <p>底部杂项</p>
    </div>
  </div>

  <!-- 提示信息 -->
  <div class="tips-container">
    <h3>使用提示</h3>
    <ul>
      <li>点击任意卡片可以放大查看详细功能说明</li>
      <li>在图片查看器中可以使用左右箭头或键盘方向键切换图片</li>
      <li>点击空白处或关闭按钮可以退出查看模式</li>
      <li>支持深色/浅色模式自动切换，也可手动切换主题</li>
    </ul>
  </div>

  <!-- 图片查看模态框 -->
  <div id="imageViewerModal" class="modal-overlay">
    <div class="modal-content">
      <span class="close-btn" onclick="closeViewer()">&times;</span>
      <button class="nav-btn prev" onclick="changeImage(-1)">←</button>
      <img id="viewerImage" src="" alt="帮助图片">
      <button class="nav-btn next" onclick="changeImage(1)">→</button>
    </div>
  </div>

  <script>
    // 图片数据
    const images = [
      '/assets/help/1.png',
      '/assets/help/2.png',
      '/assets/help/3.png',
      '/assets/help/4.png',
      '/assets/help/5.png',
      '/assets/help/6.png',
      '/assets/help/7.png'
    ];
    
    let currentIndex = 0;
    const modal = document.getElementById('imageViewerModal');
    const viewerImage = document.getElementById('viewerImage');
    const themeToggle = document.getElementById('themeToggle');
    
    // 检查系统主题偏好
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
    
    // 打开查看器
    function openViewer(index) {
      currentIndex = index;
      viewerImage.src = images[currentIndex];
      modal.classList.add('active');
      // 禁止背景滚动
      document.body.style.overflow = 'hidden';
    }
    
    // 关闭查看器
    function closeViewer() {
      modal.classList.remove('active');
      // 恢复背景滚动
      document.body.style.overflow = 'auto';
    }
    
    // 切换图片
    function changeImage(direction) {
      currentIndex += direction;
      if (currentIndex < 0) currentIndex = images.length - 1;
      if (currentIndex >= images.length) currentIndex = 0;
      
      // 添加淡入淡出效果
      viewerImage.style.opacity = '0';
      setTimeout(() => {
        viewerImage.src = images[currentIndex];
        viewerImage.style.opacity = '1';
      }, 200);
    }
    
    // 点击空白处关闭
    modal.addEventListener('click', function(e) {
      if (e.target === this) closeViewer();
    });
    
    // 键盘导航支持
    document.addEventListener('keydown', function(e) {
      if (modal.classList.contains('active')) {
        if (e.key === 'ArrowLeft') changeImage(-1);
        if (e.key === 'ArrowRight') changeImage(1);
        if (e.key === 'Escape') closeViewer();
      }
    });
    
    // 手动切换主题功能
    let manualTheme = null; // null = 自动, 'dark' = 深色, 'light' = 浅色
    
    themeToggle.addEventListener('click', function() {
      if (manualTheme === null) {
        // 从自动模式切换到相反主题
        manualTheme = isDarkMode ? 'light' : 'dark';
      } else {
        // 在深色和浅色之间切换
        manualTheme = manualTheme === 'dark' ? 'light' : 'dark';
      }
      applyTheme(manualTheme);
    });
    
    function applyTheme(theme) {
      if (theme === 'dark') {
        document.documentElement.classList.add('dark-mode');
        // 切换SVG图标样式
        themeToggle.querySelector('svg').style.stroke = '#f1c40f';
      } else {
        document.documentElement.classList.remove('dark-mode');
        themeToggle.querySelector('svg').style.stroke = '';
      }
    }
    
    // 初始化时应用系统主题
    if (!manualTheme) {
      applyTheme(isDarkMode ? 'dark' : 'light');
    }
    
    // 为图片添加加载效果
    viewerImage.style.transition = 'opacity 0.3s ease';
      viewerImage.style.opacity = '1';
    </script>
</body>
</html>
